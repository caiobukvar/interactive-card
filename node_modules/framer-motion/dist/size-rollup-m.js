import*as t from"react";import{createContext as e,useContext as n,useLayoutEffect as r,useEffect as o,useRef as a,useInsertionEffect as i,useCallback as s,useMemo as c,forwardRef as l,createElement as u}from"react";const f=e({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),m=e({});const d=e(null),p="undefined"!=typeof document,g=p?r:o,y=e({strict:!1});function h(t,e,r,s){const c=n(m).visualElement,l=n(y),u=n(d),p=n(f).reducedMotion,h=a();s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:c,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:p}));const v=h.current;i(()=>{v&&v.update(r,u)}),g(()=>{v&&v.render()}),o(()=>{v&&v.updateFeatures()});return(window.HandoffAppearAnimations?g:o)(()=>{v&&v.animationState&&v.animationState.animateChanges()}),v}function v(t,e,n){return s(r=>{var o;r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"==typeof n?n(r):"object"==typeof(o=n)&&Object.prototype.hasOwnProperty.call(o,"current")&&(n.current=r))},[e])}function w(t){return"string"==typeof t||Array.isArray(t)}function b(t){return"object"==typeof t&&"function"==typeof t.start}const x=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function S(t){return b(t.animate)||x.some(e=>w(t[e]))}function V(t){const{initial:e,animate:r}=function(t,e){if(S(t)){const{initial:e,animate:n}=t;return{initial:!1===e||w(e)?e:void 0,animate:w(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,n(m));return c(()=>({initial:e,animate:r}),[A(e),A(r)])}function A(t){return Array.isArray(t)?t.join(" "):t}const E={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},T={};for(const t in E)T[t]={isEnabled:e=>E[t].some(t=>!!e[t])};function k(t){const e=a(null);return null===e.current&&(e.current=t()),e.current}const O=!1;let L=1;const P=e({}),W=e({}),C=Symbol.for("motionComponentSymbol");function B({preloadedFeatures:e,createVisualElement:r,useRender:o,useVisualState:a,Component:i}){e&&function(t){for(const e in t)T[e]={...T[e],...t[e]}}(e);const s=l((function(s,c){let l;const u={...n(f),...s,layoutId:M(s)},{isStatic:d}=u,g=V(s),w=d?void 0:k(()=>{if(O)return L++}),b=a(s,d);if(!d&&p){g.visualElement=h(i,b,u,r);const t=n(W),o=n(y).strict;g.visualElement&&(l=g.visualElement.loadFeatures(u,o,e,w,t))}return t.createElement(m.Provider,{value:g},l&&g.visualElement?t.createElement(l,{visualElement:g.visualElement,...u}):null,o(i,s,w,v(b,g.visualElement,c),b,d,g.visualElement))}));return s[C]=i,s}function M({layoutId:t}){const e=n(P).id;return e&&void 0!==t?e+"-"+t:t}const R=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X(t){return"string"==typeof t&&!t.includes("-")&&!!(R.indexOf(t)>-1||/[A-Z]/.test(t))}const Y={},H=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],F=new Set(H);function $(t,{layout:e,layoutId:n}){return F.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!Y[t]||"opacity"===t)}const j=t=>Boolean(t&&t.getVelocity),D={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I=(t,e)=>H.indexOf(t)-H.indexOf(e);function Z(t){return t.startsWith("--")}const z=(t,e)=>e&&"number"==typeof t?e.transform(t):t,K={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},U={...K,transform:t=>((t,e,n)=>Math.min(Math.max(n,t),e))(0,1,t)},q={...K,default:1};const N=t=>({test:e=>function(t){return"string"==typeof t}(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),_=N("deg"),G=N("%"),J=N("px"),Q={...G,parse:t=>G.parse(t)/100,transform:t=>G.transform(100*t)},tt={...K,transform:Math.round},et={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,size:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,rotate:_,rotateX:_,rotateY:_,rotateZ:_,scale:q,scaleX:q,scaleY:q,scaleZ:q,skew:_,skewX:_,skewY:_,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:U,originX:Q,originY:Q,originZ:J,zIndex:tt,fillOpacity:U,strokeOpacity:U,numOctaves:tt};function nt(t,e,n,r){const{style:o,vars:a,transform:i,transformKeys:s,transformOrigin:c}=t;s.length=0;let l=!1,u=!1,f=!0;for(const t in e){const n=e[t];if(Z(t)){a[t]=n;continue}const r=et[t],m=z(n,r);if(F.has(t)){if(l=!0,i[t]=m,s.push(t),!f)continue;n!==(r.default||0)&&(f=!1)}else t.startsWith("origin")?(u=!0,c[t]=m):o[t]=m}if(e.transform||(l||r?o.transform=function({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},o,a){let i="";e.sort(I);for(const n of e)i+=`${D[n]||n}(${t[n]}) `;return n&&!t.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(t,o?"":i):r&&o&&(i="none"),i}(t,n,f,r):o.transform&&(o.transform="none")),u){const{originX:t="50%",originY:e="50%",originZ:n=0}=c;o.transformOrigin=`${t} ${e} ${n}`}}const rt=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function ot(t,e,n){for(const r in e)j(e[r])||$(r,n)||(t[r]=e[r])}function at(t,e,n){const r={};return ot(r,t.style||{},t),Object.assign(r,function({transformTemplate:t},e,n){return c(()=>{const r={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return nt(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}(t,e,n)),t.transformValues?t.transformValues(r):r}function it(t,e,n){const r={},o=at(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const st=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function ct(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||st.has(t)}let lt=t=>!ct(t);try{(ut=require("@emotion/is-prop-valid").default)&&(lt=t=>t.startsWith("on")?!ct(t):ut(t))}catch(t){}var ut;function ft(t,e,n){return"string"==typeof t?t:J.transform(e+n*t)}const mt={offset:"stroke-dashoffset",array:"stroke-dasharray"},dt={offset:"strokeDashoffset",array:"strokeDasharray"};function pt(t,{attrX:e,attrY:n,originX:r,originY:o,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...c},l,u,f){if(nt(t,c,l,f),u)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:m,style:d,dimensions:p}=t;m.transform&&(p&&(d.transform=m.transform),delete m.transform),p&&(void 0!==r||void 0!==o||d.transform)&&(d.transformOrigin=function(t,e,n){return`${ft(e,t.x,t.width)} ${ft(n,t.y,t.height)}`}(p,void 0!==r?r:.5,void 0!==o?o:.5)),void 0!==e&&(m.x=e),void 0!==n&&(m.y=n),void 0!==a&&function(t,e,n=1,r=0,o=!0){t.pathLength=1;const a=o?mt:dt;t[a.offset]=J.transform(-r);const i=J.transform(e),s=J.transform(n);t[a.array]=`${i} ${s}`}(m,a,i,s,!1)}const gt=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}}),yt=t=>"string"==typeof t&&"svg"===t.toLowerCase();function ht(t,e,n,r){const o=c(()=>{const n={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}};return pt(n,e,{enableHardwareAcceleration:!1},yt(r),t.transformTemplate),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const e={};ot(e,t.style,t),o.style={...e,...o.style}}return o}function vt(t=!1){return(e,n,r,o,{latestValues:a},i)=>{const s=(X(e)?ht:it)(n,a,i,e),l={...function(t,e,n){const r={};for(const o in t)"values"===o&&"object"==typeof t.values||(lt(o)||!0===n&&ct(o)||!e&&!ct(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}(n,"string"==typeof e,t),...s,ref:o},{children:f}=n,m=c(()=>j(f)?f.get():f,[f]);return r&&(l["data-projection-id"]=r),u(e,{...l,children:m})}}const wt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bt(t,e,n,r){!function(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const e in n)t.style.setProperty(e,n[e])}(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(wt.has(n)?n:n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.attrs[n])}function xt(t,e){const{style:n}=t,r={};for(const o in n)(j(n[o])||e.style&&j(e.style[o])||$(o,t))&&(r[o]=n[o]);return r}function St(t){const e=j(t)?t.get():t;return n=e,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?e.toValue():e;var n}const Vt=t=>(e,r)=>{const o=n(m),a=n(d),i=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,a){const i={latestValues:At(r,o,a,t),renderState:e()};return n&&(i.mount=t=>n(r,t,i)),i}(t,e,o,a);return r?i():k(i)};function At(t,e,n,r){const o={},a=r(t,{});for(const t in a)o[t]=St(a[t]);let{initial:i,animate:s}=t;const c=S(t),l=function(t){return Boolean(S(t)||t.variants)}(t);e&&l&&!c&&!1!==t.inherit&&(void 0===i&&(i=e.initial),void 0===s&&(s=e.animate));let u=!!n&&!1===n.initial;u=u||!1===i;const f=u?s:i;if(f&&"boolean"!=typeof f&&!b(f)){(Array.isArray(f)?f:[f]).forEach(e=>{const n=function(t,e,n,r={},o={}){return"function"==typeof e&&(e=e(void 0!==n?n:t.custom,r,o)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==n?n:t.custom,r,o)),e}(t,e);if(!n)return;const{transitionEnd:r,transition:a,...i}=n;for(const t in i){let e=i[t];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(o[t]=e)}for(const t in r)o[t]=r[t]})}return o}const Et={useVisualState:Vt({scrapeMotionValuesFromProps:function(t,e){const n=xt(t,e);for(const r in t)if(j(t[r])||j(e[r])){n["x"===r||"y"===r?"attr"+r.toUpperCase():r]=t[r]}return n},createRenderState:gt,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}pt(n,r,{enableHardwareAcceleration:!1},yt(e.tagName),t.transformTemplate),bt(e,n)}})},Tt={useVisualState:Vt({scrapeMotionValuesFromProps:xt,createRenderState:rt})};const kt=function(t){function e(e,n={}){return B(t(e,n))}if("undefined"==typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}((function(t,{forwardMotionProps:e=!1},n,r){return{...X(t)?Et:Tt,preloadedFeatures:n,useRender:vt(e),createVisualElement:r,Component:t}}));export{kt as m};
