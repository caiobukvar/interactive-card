import*as t from"react";import{createContext as n,useContext as e,useLayoutEffect as r,useEffect as a,useRef as o,useInsertionEffect as s,useCallback as i,useMemo as u,forwardRef as l,createElement as c}from"react";import{i as m,P as f,a as d,b as p,c as y,f as g,g as v,S as h,L as S,d as E,e as b,h as A,j as V,k as w,l as x,r as M,m as C,n as P,o as T,s as W,p as L,q as j}from"./size-rollup-dom-max-assets.js";const D=n({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),F=n({});const B=m?r:a,H=n({strict:!1});function O(t,n,r,i){const u=e(F).visualElement,l=e(H),c=e(f),m=e(D).reducedMotion,d=o();i=i||l.renderer,!d.current&&i&&(d.current=i(t,{visualState:n,parent:u,props:r,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:m}));const p=d.current;s(()=>{p&&p.update(r,c)}),B(()=>{p&&p.render()}),a(()=>{p&&p.updateFeatures()});return(window.HandoffAppearAnimations?B:a)(()=>{p&&p.animationState&&p.animationState.animateChanges()}),p}function R(t){const{initial:n,animate:r}=function(t,n){if(p(t)){const{initial:n,animate:e}=t;return{initial:!1===n||y(n)?n:void 0,animate:y(e)?e:void 0}}return!1!==t.inherit?n:{}}(t,e(F));return u(()=>({initial:n,animate:r}),[k(n),k(r)])}function k(t){return Array.isArray(t)?t.join(" "):t}function I(t){const n=o(null);return null===n.current&&(n.current=t()),n.current}let K=1;const U=Symbol.for("motionComponentSymbol");function q({preloadedFeatures:n,createVisualElement:r,useRender:a,useVisualState:o,Component:s}){n&&function(t){for(const n in t)g[n]={...g[n],...t[n]}}(n);const u=l((function(u,l){let c;const f={...e(D),...u,layoutId:_(u)},{isStatic:p}=f,y=R(u),g=p?void 0:I(()=>{if(v.hasEverUpdated)return K++}),S=o(u,p);if(!p&&m){y.visualElement=O(s,S,f,r);const t=e(h),a=e(H).strict;y.visualElement&&(c=y.visualElement.loadFeatures(f,a,n,g,t))}return t.createElement(F.Provider,{value:y},c&&y.visualElement?t.createElement(c,{visualElement:y.visualElement,...f}):null,a(s,u,g,function(t,n,e){return i(r=>{r&&t.mount&&t.mount(r),n&&(r?n.mount(r):n.unmount()),e&&("function"==typeof e?e(r):d(e)&&(e.current=r))},[n])}(S,y.visualElement,l),S,p,y.visualElement))}));return u[U]=s,u}function _({layoutId:t}){const n=e(S).id;return n&&void 0!==t?n+"-"+t:t}const z=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function N(t,n,e){for(const r in n)E(n[r])||b(r,e)||(t[r]=n[r])}function X(t,n,e){const r={};return N(r,t.style||{},t),Object.assign(r,function({transformTemplate:t},n,e){return u(()=>{const r={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return A(r,n,{enableHardwareAcceleration:!e},t),Object.assign({},r.vars,r.style)},[n])}(t,n,e)),t.transformValues?t.transformValues(r):r}function Y(t,n,e){const r={},a=X(t,n,e);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=a,r}const G=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function J(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||G.has(t)}let Q=t=>!J(t);try{(Z=require("@emotion/is-prop-valid").default)&&(Q=t=>t.startsWith("on")?!J(t):Z(t))}catch(t){}var Z;const $=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}});function tt(t,n,e,r){const a=u(()=>{const e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}};return V(e,n,{enableHardwareAcceleration:!1},w(r),t.transformTemplate),{...e.attrs,style:{...e.style}}},[n]);if(t.style){const n={};N(n,t.style,t),a.style={...n,...a.style}}return a}function nt(t=!1){return(n,e,r,a,{latestValues:o},s)=>{const i=(x(n)?tt:Y)(e,o,s,n),l={...function(t,n,e){const r={};for(const a in t)"values"===a&&"object"==typeof t.values||(Q(a)||!0===e&&J(a)||!n&&!J(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}(e,"string"==typeof n,t),...i,ref:a},{children:m}=e,f=u(()=>E(m)?m.get():m,[m]);return r&&(l["data-projection-id"]=r),c(n,{...l,children:f})}}const et=t=>(n,r)=>{const a=e(F),o=e(f),s=()=>function({scrapeMotionValuesFromProps:t,createRenderState:n,onMount:e},r,a,o){const s={latestValues:rt(r,a,o,t),renderState:n()};return e&&(s.mount=t=>e(r,t,s)),s}(t,n,a,o);return r?s():I(s)};function rt(t,n,e,r){const a={},o=r(t,{});for(const t in o)a[t]=M(o[t]);let{initial:s,animate:i}=t;const u=p(t),l=C(t);n&&l&&!u&&!1!==t.inherit&&(void 0===s&&(s=n.initial),void 0===i&&(i=n.animate));let c=!!e&&!1===e.initial;c=c||!1===s;const m=c?i:s;if(m&&"boolean"!=typeof m&&!P(m)){(Array.isArray(m)?m:[m]).forEach(n=>{const e=T(t,n);if(!e)return;const{transitionEnd:r,transition:o,...s}=e;for(const t in s){let n=s[t];if(Array.isArray(n)){n=n[c?n.length-1:0]}null!==n&&(a[t]=n)}for(const t in r)a[t]=r[t]})}return a}const at={useVisualState:et({scrapeMotionValuesFromProps:W,createRenderState:$,onMount:(t,n,{renderState:e,latestValues:r})=>{try{e.dimensions="function"==typeof n.getBBox?n.getBBox():n.getBoundingClientRect()}catch(t){e.dimensions={x:0,y:0,width:0,height:0}}V(e,r,{enableHardwareAcceleration:!1},w(n.tagName),t.transformTemplate),L(n,e)}})},ot={useVisualState:et({scrapeMotionValuesFromProps:j,createRenderState:z})};const st=function(t){function n(n,e={}){return q(t(n,e))}if("undefined"==typeof Proxy)return n;const e=new Map;return new Proxy(n,{get:(t,r)=>(e.has(r)||e.set(r,n(r)),e.get(r))})}((function(t,{forwardMotionProps:n=!1},e,r){return{...x(t)?at:ot,preloadedFeatures:e,useRender:nt(n),createVisualElement:r,Component:t}}));export{st as m};
